---
id: getting-started
title: Getting Started with Apinni
description: Learn how to install and configure Apinni for type-safe API generation in your TypeScript project.
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

The `apinni` package enables type-safe API generation for TypeScript projects, integrating with decorators like [`@ApinniController`](/docs/decorators/apinni-controller), [`@ApinniEndpoint`](/docs/decorators/apinni-endpoint), [`@ApinniDomain`](/docs/decorators/apinni-domain), and [`@ApinniDisabled`](/docs/decorators/apinni-disabled). This guide covers the prerequisites, installation, setup, and running of `apinni` in your project, along with configuration options and troubleshooting tips.

<Admonition type="info" title="What is Apinni?">
Apinni is a powerful tool for generating type definitions from TypeScript controllers and endpoints, ensuring type safety and streamlined API development. It’s ideal for projects requiring robust API documentation and client-side type integration.
</Admonition>

## Prerequisites

Before installing `apinni`, ensure your project meets the following requirements:

| Requirement          | Version/Description                                      |
|---------------------|--------------------------------------------------------|
| **Node.js**         | >= 18 (LTS recommended for stability)                 |
| **TypeScript**      | >= 4.5 (with a valid `tsconfig.json`)                 |
| **Package Manager** | npm, Yarn, or pnpm                                    |
| **Project Setup**   | A TypeScript project with decorators enabled (`experimentalDecorators` and `emitDecoratorMetadata` in `tsconfig.json`) |

### Configuring tsconfig.json

Ensure your `tsconfig.json` includes the following settings to support Apinni’s decorator-based workflow:

```json title="tsconfig.json"
{
  "compilerOptions": {
    ...
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true,
    "outDir": "./dist",
    "rootDir": "./src",
    ...
  }
}
```

<Admonition type="warning">
Apinni relies on TypeScript decorators. Omitting `experimentalDecorators` or `emitDecoratorMetadata` in `tsconfig.json` can cause type generation to fail.
</Admonition>

## Installation

Install `apinni` as a development dependency using your preferred package manager.

<Tabs groupId="package-manager">
  <TabItem value="npm" label="npm" default>
    ```sh
    npm install @apinni/client-ts --save-dev
    ```
  </TabItem>
  <TabItem value="yarn" label="Yarn">
    ```sh
    yarn add -D @apinni/client-ts
    ```
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    ```sh
    pnpm add -D @apinni/client-ts
    ```
  </TabItem>
</Tabs>

<Admonition type="tip">
Installing `apinni` as a dev dependency (`--save-dev`, `-D`) is recommended, as it’s typically used during development for type generation.
</Admonition>

## Setup

To integrate `apinni` into your project, add a script to your `package.json` to run the type generation command.

### Step 1: Add apinni Script

Modify your `package.json` to include a `apinni` script:

```json title="package.json"
{
  "scripts": {
    "apinni": "apinni"
  }
}
```

### Step 2: Create a Controller

Create a basic controller using Apinni decorators to test the setup. For example:

```ts title="src/controllers/user.controller.ts"
import { ApinniController, ApinniEndpoint } from '@apinni/client-ts';

@ApinniController({ path: '/api/users' })
class UserController {
  @ApinniEndpoint({ path: '/:id', method: 'GET' })
  getUserById() {
    return { id: '123', name: 'Alice' };
  }
}
```

### Step 3: Run Apinni

Run the `apinni generate` command to generate type definitions:

<Tabs groupId="package-manager">
  <TabItem value="npm" label="npm" default>
    ```sh
    npm run apinni generate
    ```
  </TabItem>
  <TabItem value="yarn" label="Yarn">
    ```sh
    yarn apinni generate
    ```
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    ```sh
    pnpm run apinni generate
    ```
  </TabItem>
</Tabs>

This generates type definition files (e.g., `api-types.d.ts`) in your project’s output directory, based on your controllers and endpoints.

```ts
export type GetApiUsersByIdResponse = {
    id: string;
    name: string;
};

export type BuildApi<T extends IApi> = T;

export type Api = {
    ['/api/users/:id']: {
        GET: {
            request: never;
            responses: {
                200: GetApiUsersByIdResponse;
            };
        };
    };
}
```

<Admonition type="info" title="example">
**Output**: After running `apinni generate`, a file like `api-types.d.ts` will be generated, containing type definitions for the `/api/users/:id` endpoint and other utility types.
</Admonition>

## Configuration Options

<Tabs groupId="config">
  <TabItem value="commion-js" label="CommonJS" default>
    Create a `apinni.config.cjs` file in your project root:

    ```js
    module.exports = {
        outputPath: "./types",
        plugins: [], // Your plugins here
    }
    ```
  </TabItem>
  <TabItem value="esm" label="ESM">
    Create a `apinni.config.js`(or `mjs`) file in your project root:

    ```js
    export default {
        outputPath: "./types",
        plugins: [], // Your plugins here
    }
    ```
  </TabItem>
  <TabItem value="ts" label="Typescript">
    Create a `apinni.config.ts` file in your project root:

    ```ts
    import type { ApinniConfig } from "@apinni/client-ts";
    
    export default {
        outputPath: "./types",
        plugins: [], // Your plugins here
    } satisfies ApinniConfig
    ```
  </TabItem>
</Tabs>

| Property   | Type            | Description                                                                 |
|------------|-----------------|-----------------------------------------------------------------------------|
| `outputPath`   | `string`        | Directory for generated type files (e.g., `./types`).                        |
| `include`  | `string[]`      | Glob patterns for files to process (e.g., `["src/controllers/**/*.ts"]`).    |
| `plugins`  | `PluginTypes[]`      | List plugins which will affect generation logic.                                           |                        |


<Admonition type="tip" title="Try It Out">
Experiment with a sample Apinni project in a live TypeScript environment: [CodeSandbox Link](#).
</Admonition>

## Troubleshooting

### Common Issues

| Issue                              | Solution                                                                 |
|------------------------------------|--------------------------------------------------------------------------|
| **No types generated**             | Ensure `tsconfig.json` has `experimentalDecorators` and `emitDecoratorMetadata` enabled. Check that controllers use `@ApinniController`. |
| **Types generated in wrong directory** | Verify the `outputPath` in your config file.          |
| **Decorator errors**               | Confirm `@apinni/client-ts` is installed and imported correctly (`import { ApinniController } from '@apinni/client-ts'`). |
| **Endpoints missing or incorrect**         | Ensure you haven't used named imports (`import { ApinniController as Controller } from '@apinni/client-ts'`) |

### Debugging Tips

- Run `apinni` with `--verbose` to see detailed logs:
- Check the output directory for generated `.d.ts` files.
- Verify that your `tsconfig.json` includes the correct `include` and `exclude` patterns.

<Admonition type="warning">
Ensure your TypeScript project is compiled with `tsc` or a compatible build tool before running `apinni`, as it relies on TypeScript metadata.
</Admonition>

## Next Steps

- **Define Controllers**: Learn how to create controllers with [`@ApinniController`](/docs/decorators/apinni-controller).
- **Add Endpoints**: Define endpoints using [`@ApinniEndpoint`](/docs/decorators/apinni-endpoint).
- **Organize Types**: Group endpoints with [`@ApinniDomain`](/docs/decorators/apinni-domain).
- **Exclude Endpoints**: Use [`@ApinniDisabled`](/docs/decorators/apinni-disabled) for selective type generation.

<Admonition type="info">
For advanced use cases, check the [API Reference](/docs/api-reference/overview) or contact the [Apinni community](https://community.apinni.dev).
</Admonition>